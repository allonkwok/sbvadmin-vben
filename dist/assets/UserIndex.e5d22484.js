import{B as D}from"./TableImg.db711325.js";import{k as I}from"./componentMap.7ff7d94b.js";import{u as v}from"./useTable.e4c8e7e4.js";import{i as E,j as M}from"./System.ba0c31b8.js";import{P}from"./index.1c6df52f.js";import R from"./DeptTree.0115b4cd.js";import{A as U}from"./index.c08f04cc.js";import{b as V}from"./index.380f9340.js";import{A as W,c as $,s as z}from"./UserModal.3dc021ad.js";import{au as N,a as j,aZ as x,w as H,aw as t,o as r,j as p,z as n,n as c,B as k,h as S,F,az as B,t as w,l as L}from"./index.ae9214f1.js";import{A as O}from"./index.6ceac9a2.js";import{T as Z}from"./index.04705a19.js";import"./index.fb4c50fd.js";import"./Checkbox.a908a981.js";import"./index.81d57ccf.js";import"./index.f99f4fbc.js";import"./eagerComputed.4c87dd8b.js";import"./BasicForm.fb535ff8.js";/* empty css              *//* empty css              */import"./FormItem.vue_vue_type_script_lang.cc0f2044.js";import"./index.7035921f.js";import"./index.d9d950d6.js";import"./_baseIteratee.ec0b7751.js";import"./get.2082d5f1.js";import"./DeleteOutlined.e4932743.js";import"./index.2033aad2.js";import"./useRefs.67c9ee0b.js";import"./Form.d1328e3f.js";import"./Col.f27830cd.js";import"./useFlexGapSupport.ac20dccf.js";import"./useSize.323a7a3d.js";import"./index.dcb517bf.js";import"./uniqBy.9150ba72.js";import"./index.4b867019.js";import"./useForm.06d1c40b.js";import"./RadioButtonGroup.ae12fada.js";import"./useFormItem.54a6ef03.js";import"./index.1ab4ba70.js";import"./index.82395d0c.js";import"./index.0e6c086b.js";import"./uuid.2b29000c.js";import"./useWindowSizeFn.ae9d70a1.js";import"./sortable.esm.2632adaa.js";import"./RedoOutlined.71de56e4.js";import"./FullscreenOutlined.d28387c9.js";import"./index.9671d3c3.js";import"./isNumber.734ab5b6.js";import"./fromPairs.84aabb58.js";import"./scrollTo.91903af9.js";import"./index.f41aab42.js";import"./index.a3f05007.js";import"./transButton.fb9a0e54.js";import"./index.6d3fe6ba.js";import"./index.e8f328c9.js";import"./download.c8636c4a.js";import"./base64Conver.08b9f4ec.js";import"./index.48b78ba3.js";import"./index.67729c0b.js";import"./index.f3152ebe.js";import"./useContentViewHeight.2d86beb8.js";import"./ArrowLeftOutlined.d3cdefe3.js";import"./index.477047b6.js";import"./index.cf83be06.js";import"./useContextMenu.5c8551c6.js";import"./Dept.b09772b7.js";const G=j({name:"AccountManagement",components:{BasicTable:D,PageWrapper:P,AccountModal:W,TableAction:I,Avatar:O,Tag:Z,Authority:U,DeptTree:R},setup(){const o=x(),[C,{openModal:d}]=V(),f=H({}),[A,{reload:m,updateTableDataRecord:h}]=v({title:"\u8D26\u53F7\u5217\u8868",api:E,rowKey:"id",columns:$,formConfig:{labelWidth:120,schemas:z,autoSubmitOnEnter:!0},useSearchForm:!0,showTableSetting:!0,bordered:!0,handleSearchInfoFn(e){return e},actionColumn:{width:120,title:"\u64CD\u4F5C",dataIndex:"action"}});function g(){d(!0,{isUpdate:!1})}function _(e){d(!0,{record:e,isUpdate:!0})}function b(e){M(e.id).then(a=>{}).catch(a=>{}).finally(()=>{m()})}function u({isUpdate:e,values:a}){if(e){const s=h(a.id,a)}else m()}function y(e=""){f.deptId=e,m()}function T(e){o("/system/account_detail/"+e.id)}return{registerTable:A,registerModal:C,handleCreate:g,handleEdit:_,handleDelete:b,handleSuccess:u,handleSelect:y,handleView:T,searchInfo:f}}});function K(o,C,d,f,A,m){const h=t("DeptTree"),g=t("a-button"),_=t("Authority"),b=t("Avatar"),u=t("Tag"),y=t("TableAction"),T=t("BasicTable"),e=t("AccountModal"),a=t("PageWrapper");return r(),p(a,{dense:"",contentFullHeight:"",fixedHeight:"",contentClass:"flex"},{default:n(()=>[c(h,{class:"w-1/4 xl:w-1/5",onSelect:o.handleSelect},null,8,["onSelect"]),c(T,{onRegister:o.registerTable,class:"w-3/4 xl:w-4/5",searchInfo:o.searchInfo},{toolbar:n(()=>[c(_,{value:"/api/users|POST"},{default:n(()=>[c(g,{type:"primary",onClick:o.handleCreate},{default:n(()=>[k("\u65B0\u589E\u8D26\u53F7")]),_:1},8,["onClick"])]),_:1})]),bodyCell:n(({column:s,record:i})=>[s.key==="avatar"?(r(),p(b,{key:0,size:60,src:i.avatar},null,8,["src"])):s.key==="roles"?(r(!0),S(F,{key:1},B(i.roles,l=>(r(),p(u,{key:l.name,color:"green"},{default:n(()=>[k(w(l.nameZh),1)]),_:2},1024))),128)):s.key==="depts"?(r(!0),S(F,{key:2},B(i.depts,l=>(r(),p(u,{key:l.id,color:"green"},{default:n(()=>[k(w(l.name),1)]),_:2},1024))),128)):s.key==="action"?(r(),p(y,{key:3,actions:[{icon:"clarity:info-standard-line",tooltip:"\u67E5\u770B\u7528\u6237\u8BE6\u60C5",onClick:o.handleView.bind(null,i)},{icon:"clarity:note-edit-line",tooltip:"\u7F16\u8F91\u7528\u6237\u8D44\u6599",onClick:o.handleEdit.bind(null,i)},{icon:"ant-design:delete-outlined",color:"error",tooltip:"\u5220\u9664\u6B64\u8D26\u53F7",popConfirm:{title:"\u662F\u5426\u786E\u8BA4\u5220\u9664",placement:"left",confirm:o.handleDelete.bind(null,i)}}]},null,8,["actions"])):L("",!0)]),_:1},8,["onRegister","searchInfo"]),c(e,{onRegister:o.registerModal,onSuccess:o.handleSuccess},null,8,["onRegister","onSuccess"])]),_:1})}var so=N(G,[["render",K]]);export{so as default};
